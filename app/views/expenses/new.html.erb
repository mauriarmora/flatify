

  <h1 id="expense-header"><strong>New expense</strong></h1>
  <h2 id="categories-header"><strong>Categories</strong></h2>
  <div class="form-post">
    <%= simple_form_for([@flat, @expense]) do |f| %>
      <%#= f.input :category, collection: Expense::CATEGORIES, include_blank: false, prompt: "Select category" %>

      <div class="category-choices">
      <% Expense::CATEGORIES.each do |category| %>
        <input type="radio" class="hidden" value="<%= category %>" name="expense[category]" id="post_category_<%= category %>">
        <label data-color="<%= Expense.map_cat_to_color(category) %>" class="category-choice" for="post_category_<%= category %>" style="color: <%= Expense.map_cat_to_color(category) %>" style="border-color: <%= Expense.map_cat_to_color(category) %>">
          <%= category %>

        </label>
      <% end %>
     </div>
      <%= f.input :amount, label: "Details", label_html: { class: "label-fonts" }, input_html: { class: "details-box" }, placeholder: "â‚¬0.00" %>
      <%= f.input :description, label: false, as: :text, placeholder: "E.g. Bought more beers for the fridge." %>
      <div class="d-flex justify-content-between">
        <%= f.input :payment_month, as: :date, discard_day: true, discard_year: true, label: false, input_html: { class: "wide-input-dates" } %>
        <!---- start_year: Date.today.year - 1, end_year: Date.today.year + 1 --->
        <%= f.input :payment_year, as: :date, discard_day: true, discard_month: true, label: false, start_year: Date.today.year - 1, end_year: Date.today.year + 1, input_html: {class: "wide-input-dates" }  %>
      </div>
      <div class="flatmates-choices">
        <%= simple_fields_for :user_expense do |u|  %>
          <%= u.input :user, collection: User.where(flat: @flat).pluck(:first_name), label_html: { class: "label-fonts" }, input_html: { multiple: true } %>
        <% end %>
      </div>
      <div class="expense-button">
        <%= f.submit class: "primarybtn expense-button-centered" %>
      </div>
  <% end %>

  </div>



